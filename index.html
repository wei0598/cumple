<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Fiesta de Cumple - Simon & Denis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      height: 100%;
      overflow: hidden;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #060b20;
      color: #ffffff;
    }
    canvas {
      position: fixed;
      inset: 0;
      display: block;
      z-index: 0;
    }
    .center-card {
      position: relative;
      z-index: 1;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .card {
      padding: 26px 30px 18px;
      border-radius: 18px;
      background: rgba(10, 14, 40, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.15);
      text-align: center;
      max-width: 480px;
      width: 100%;
      backdrop-filter: blur(10px);
      animation: popIn 0.8s ease-out;
    }
    @keyframes popIn {
      from { transform: translateY(20px) scale(0.9); opacity: 0; }
      to   { transform: translateY(0) scale(1); opacity: 1; }
    }
    .title {
      font-size: 2.1rem;
      font-weight: 700;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      margin-bottom: 6px;
      background: linear-gradient(120deg, #ffd36b, #ff8ba7, #5c9dff);
      -webkit-background-clip: text;
      color: transparent;
    }
    .subtitle { font-size: 1.1rem; margin-bottom: 10px; }
    .logo-row {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 14px;
    }
    .logo-row img {
      display: block;
      max-height: 70px;
      border-radius: 12px;
      background: #000;
      object-fit: contain;
    }
    .names { font-size: 0.95rem; margin-bottom: 12px; opacity: 0.9; }
    .pill {
      display: inline-block;
      padding: 6px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.1);
      margin-bottom: 8px;
      font-size: 0.92rem;
    }
    .info { font-size: 0.95rem; margin-bottom: 10px; }
    .small { font-size: 0.8rem; opacity: 0.8; }
    .btn-row {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }
    .btn {
      padding: 7px 14px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 0.88rem;
      text-decoration: none;
      transition: 0.15s;
    }
    .btn-wa {
      background: #25d366;
      color: #fff;
    }
    .btn-music {
      background: rgba(255,255,255,0.1);
      color: #fff;
    }
    .btn-music.on {
      background: rgba(255,211,107,0.25);
      color: #fff;
    }
  </style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="center-card">
  <div class="card">
    <div class="title">¬°Fiesta de cumple!</div>
    <div class="subtitle">Simon & Denis te invitan üéâ</div>

    <div class="logo-row">
      <img src="simon.jpg">
      <img src="denis.jpg">
    </div>

    <div class="names">
      Simon Huang ¬∑ 12 a√±os<br>
      Denis Huang ¬∑ 9 a√±os
    </div>

    <div class="pill">Domingo 8 de diciembre ¬∑ 14:00 a 17:00 hs</div>

    <div class="info">
      Quinta Urbina, Henderson<br>
      Aire libre, juegos y merienda rica.
    </div>

    <div class="btn-row">
      <a class="btn btn-wa"
         href="https://wa.me/5492314532328?text=Hola%2C%20confirmamos%20para%20la%20fiesta%20de%20Simon%20y%20Denis"
         target="_blank">üí¨ Confirmar por WhatsApp</a>

      <button class="btn btn-music" id="musicBtn">üîá M√∫sica OFF</button>
    </div>

    <div class="small">
      Si llueve, la fiesta se hace igual.<br>
      Avis√° si hay alergias alimentarias.
    </div>
  </div>
</div>

<script>
/* ---------- Canvas ËÉåÊôØÂä®ÁîªÔºàÊ∞îÁêÉ + ÂΩ©Á∫∏ + ÁÇπÂáªÁàÜÁÇ∏Ôºâ ---------- */
const canvas = document.getElementById('bg');
const ctx = canvas.getContext('2d');

let W, H;
function resize() { W = canvas.width = innerWidth; H = canvas.height = innerHeight; }
addEventListener('resize', resize); resize();

function rand(a,b){ return Math.random()*(b-a)+a;}

let balloons = [], confetti = [], bursts = [];
const colors = ['#ff8ba7', '#ffd36b', '#5c9dff', '#9ae6b4'];

for(let i=0;i<16;i++){
  balloons.push({
    x: rand(-50,W+50),
    y: rand(H*0.2,H+100),
    r: rand(26,40),
    vy: rand(-0.4,-0.9),
    sway: rand(0.3,0.7),
    off: rand(0,Math.PI*2),
    color: colors[(Math.random()*colors.length)|0]
  });
}
for(let i=0;i<70;i++){
  confetti.push({
    x: rand(0,W), y: rand(-H*0.5,H),
    w: rand(3,6), h: rand(8,14),
    vy: rand(0.6,1.4),
    rot: rand(0,6.28),
    vr: rand(-0.04,0.04),
    color: colors[(Math.random()*colors.length)|0]
  });
}

function burst(x,y){
  for(let i=0;i<30;i++){
    const a=rand(0,6.28), s=rand(1.2,3.2);
    bursts.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:1,
                 color:colors[(Math.random()*colors.length)|0],
                 size:rand(3,6)});
  }
}
canvas.onclick = e => burst(e.clientX,e.clientY);
canvas.ontouchstart = e => {
  let t=e.touches[0];
  burst(t.clientX,t.clientY);
};

function draw(){
  const g=ctx.createLinearGradient(0,0,0,H);
  g.addColorStop(0,'#060b24'); g.addColorStop(1,'#140b33');
  ctx.fillStyle=g; ctx.fillRect(0,0,W,H);

  confetti.forEach(c=>{
    c.y+=c.vy; c.rot+=c.vr;
    if(c.y>H+20){c.y=rand(-H*0.4,-20); c.x=rand(0,W);}
    ctx.save();
    ctx.translate(c.x,c.y); ctx.rotate(c.rot);
    ctx.fillStyle=c.color; ctx.fillRect(-c.w/2,-c.h/2,c.w,c.h);
    ctx.restore();
  });

  const t=Date.now()*0.001;
  balloons.forEach(b=>{
    b.y+=b.vy; b.x+=Math.sin(t+b.off)*b.sway;
    if(b.y<-50){ b.y=H+rand(30,120); b.x=rand(0,W); }
    ctx.save();
    ctx.translate(b.x,b.y);
    ctx.beginPath();
    ctx.ellipse(0,0,b.r*0.75,b.r,0,0,6.28);
    const gg=ctx.createRadialGradient(-b.r*0.2,-b.r*0.4,b.r*0.1,0,0,b.r);
    gg.addColorStop(0,'#fff');
    gg.addColorStop(0.18,b.color);
    gg.addColorStop(1,'#000');
    ctx.fillStyle=gg; ctx.fill();
    ctx.restore();
  });

  for(let i=bursts.length-1;i>=0;i--){
    let p=bursts[i];
    p.x+=p.vx; p.y+=p.vy; p.vy+=0.05; p.life-=0.02;
    ctx.globalAlpha=p.life;
    ctx.fillStyle=p.color;
    ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,6.28); ctx.fill();
    ctx.globalAlpha=1;
    if(p.life<=0) bursts.splice(i,1);
  }

  requestAnimationFrame(draw);
}
draw();

/* ---------- ÁîüÊó•Âø´‰πêËÉåÊôØÈü≥‰πêÔºàWeb Audio ÂêàÊàêÔºâ ---------- */

let audioCtx=null, musicOn=false;
const btn=document.getElementById("musicBtn");

const melody = [
  [262,0.5], [262,0.5], [294,1], [262,1], [349,1], [330,2],
  [262,0.5], [262,0.5], [294,1], [262,1], [392,1], [349,2],
  [262,0.5], [262,0.5], [523,1], [440,1], [349,1], [330,1], [294,1],
  [466,0.5], [466,0.5], [440,1], [349,1], [392,1], [349,2]
];

async function playMelody(){
  if(!audioCtx) return;
  let t=audioCtx.currentTime;
  melody.forEach(([freq,len])=>{
    const osc=audioCtx.createOscillator();
    const gain=audioCtx.createGain();
    osc.frequency.value=freq;
    osc.type="triangle";
    gain.gain.setValueAtTime(0.4,t);
    gain.gain.exponentialRampToValueAtTime(0.001,t+len);
    osc.connect(gain).connect(audioCtx.destination);
    osc.start(t);
    osc.stop(t+len);
    t+=len*1.05;
  });
}

btn.onclick = async ()=>{
  if(!audioCtx){
    const AC = window.AudioContext || window.webkitAudioContext;
    audioCtx = new AC();
    await audioCtx.resume();
  }

  musicOn = !musicOn;
  btn.textContent = musicOn ? "üîä M√∫sica ON" : "üîá M√∫sica OFF";
  btn.classList.toggle("on", musicOn);

  if(musicOn){
    playMelody();
  }
};
</script>

</body>
</html>
